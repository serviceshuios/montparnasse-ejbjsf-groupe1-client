<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta charset="UTF-8" />
	<title>Personne</title>
	<h:outputStylesheet library="css" name="bootstrap.css" />
</h:head>
<head>
<h:outputLink value="personne.xhtml">Creer une personne</h:outputLink>
<br />
<h:outputLink value="lot.xhtml">Creer un lotissement</h:outputLink>
<br />
<h:outputLink value="mariage.xhtml">Mariage</h:outputLink>
<br />
<h:outputLink value="acheterLot.xhtml">Acheter un lotissement</h:outputLink>
</head>
<body>
	<div class="container">
		<h1>Inscription d'une personne</h1>
		<h:form>
			<h:panelGrid columns="2" cellpadding="2">
				<f:validateBean>
					<h:inputHidden id="idPersonne"
						value="#{personneBean.personne.idPersonne}" />
						<br/>
					<h:outputLabel value="Nom" />
					<h:inputText id="nom" value="#{personneBean.personne.nom}" />
					<h:outputLabel value="Prenom" />
					<h:inputText id="prenom" value="#{personneBean.personne.prenom}" />
					<h:outputLabel value="Age" />
					<h:inputText id="age" value="#{personneBean.personne.age}" />
				</f:validateBean>
			</h:panelGrid>
			<br/>
			<h:commandButton action="#{personneBean.ajouterPersonne}"
				value="ajouter" />
			<h:commandButton action="#{personneBean.modifierPersonne}"
				value="modifier" />

			<div>
				<h2>Liste des personnes</h2>
				<h:dataTable value="#{personneBean.listerPersonnes()}" var="p"
					border="1" class="table table-striped">
					<h:column>
						<f:facet name="header">ID</f:facet>
						<h:outputText value="#{p.idPersonne}" />
					</h:column>
					<h:column>
						<f:facet name="header">NOM</f:facet>
						<h:outputText value="#{p.nom}" />
					</h:column>
					<h:column>
						<f:facet name="header">PRENOM</f:facet>
						<h:outputText value="#{p.prenom}" />
					</h:column>
					<h:column>
						<f:facet name="header">Age</f:facet>
						<h:outputText value="#{p.age}" />
					</h:column>
					<h:column>
						<f:facet name="header">MODIFIER</f:facet>
						<h:commandLink action="#{personneBean.getPersonne(p.idPersonne)}"
							value="Modifier">
							<f:setPropertyActionListener target="#{personneBean.personne}"
								value="#{p}"></f:setPropertyActionListener>
						</h:commandLink>
					</h:column>
					<h:column>
						<f:facet name="header">Supprimer</f:facet>
						<h:commandLink
							action="#{personneBean.supprimerPersonne(p.idPersonne)}"
							value="Supprimer">
							<f:setPropertyActionListener
								target="#{personneBean.personne.idPersonne}"
								value="#{p.idPersonne}"></f:setPropertyActionListener>
						</h:commandLink>
					</h:column>
				</h:dataTable>
			</div>
		</h:form>
	</div>

</body>
</html>