<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta charset="UTF-8" />
	<title>Mariage</title>
	<h:outputStylesheet library="css" name="bootstrap.css" />
</h:head>
<head>
<h:outputLink value="personne.xhtml">Creer une personne</h:outputLink>
<br />
<h:outputLink value="lot.xhtml">Creer un lotissement</h:outputLink>
<br />
<h:outputLink value="mariage.xhtml">Mariage</h:outputLink>
<br />
<h:outputLink value="acheterLot.xhtml">Acheter un lotissement</h:outputLink>
</head>
<body>
	<div class="container">
		<h:form>
			<h2>Mise a jour status civilité</h2>
			<h:panelGrid columns="2" cellpadding="5">
				<h:outputLabel value="Choisir une premiere personne" />
				<h:selectOneMenu id="personne"
					value="#{personneBean.personne.idPersonne}">
					<f:selectItem itemValue="0" itemLabel="Choisissez une personne" />
					<f:selectItems value="#{personneBean.listerPersonnes()}" var="p"
						itemValue="#{p.idPersonne}" itemLabel="#{p.nom}, #{p.prenom}" />
				</h:selectOneMenu>
				<h:outputLabel value="Choisir une deuxieme personne" />
				<h:selectOneMenu id="personne2"
					value="#{personneBean.personne2.idPersonne}">
					<f:selectItem itemValue="0" itemLabel="Choisissez une personne" />
					<f:selectItems value="#{personneBean.listerPersonnes()}" var="p"
						itemValue="#{p.idPersonne}" itemLabel="#{p.nom}, #{p.prenom}" />
				</h:selectOneMenu>
			</h:panelGrid>

			

			<h:commandButton value="EMPRISONNER">
				<f:actionListener binding="#{personneBean.seMarier1()}" />
				<f:actionListener binding="#{personneBean.seMarier2()}" />
			</h:commandButton>


			<div>
				<h2>Liste des personnes</h2>
				<h:dataTable value="#{personneBean.listerPersonnes()}" var="p"
					border="1" class="table table-striped">
					<h:column>
						<f:facet name="header">ID</f:facet>
						<h:outputText value="#{p.idPersonne}" />
					</h:column>
					<h:column>
						<f:facet name="header">NOM</f:facet>
						<h:outputText value="#{p.nom}" />
					</h:column>
					<h:column>
						<f:facet name="header">PRENOM</f:facet>
						<h:outputText value="#{p.prenom}" />
					</h:column>
					<h:column>
						<f:facet name="header">Age</f:facet>
						<h:outputText value="#{p.age}" />
					</h:column>
					<h:column>
						<f:facet name="header">Marié(e) avec:</f:facet>
						<h:outputText value="#{p.personne.nom}" />
					</h:column>
				</h:dataTable>
			</div>
		</h:form>
	</div>

</body>
</html>